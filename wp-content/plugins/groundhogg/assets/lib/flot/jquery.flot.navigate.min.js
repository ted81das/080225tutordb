!function(e){function t(a){var g,d=this,l=a.data||{};if(l.elem)d=a.dragTarget=l.elem,a.dragProxy=u.proxy||d,a.cursorOffsetX=l.pageX-l.left,a.cursorOffsetY=l.pageY-l.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(u.dragging||l.which>0&&a.which!=l.which||e(a.target).is(l.not))return;switch(a.type){case"mousedown":return e.extend(l,e(d).offset(),{elem:d,target:a.target,pageX:a.pageX,pageY:a.pageY}),i.add(document,"mousemove mouseup",t,l),r(d,!1),u.dragging=null,!1;case!u.dragging&&"mousemove":if(o(a.pageX-l.pageX)+o(a.pageY-l.pageY)<l.distance)break;a.target=l.target,!1!==(g=n(a,"dragstart",d))&&(u.dragging=d,u.proxy=a.dragProxy=e(g||d)[0]);case"mousemove":if(u.dragging){if(g=n(a,"drag",d),s.drop&&(s.drop.allowed=!1!==g,s.drop.handler(a)),!1!==g)break;a.type="mouseup"}case"mouseup":i.remove(document,"mousemove mouseup",t),u.dragging&&(s.drop&&s.drop.handler(a),n(a,"dragend",d)),r(d,!0),u.dragging=u.proxy=l.elem=!1}return!0}function n(t,n,o){t.type=n;var a=e.event.dispatch.call(o,t);return!1!==a&&(a||t.result)}function o(e){return Math.pow(e,2)}function a(){return!1===u.dragging}function r(e,t){e&&(e.unselectable=t?"off":"on",e.onselectstart=function(){return t},e.style&&(e.style.MozUserSelect=t?"":"none"))}e.fn.drag=function(e,t,n){return t&&this.bind("dragstart",e),n&&this.bind("dragend",n),e?this.bind("drag",t||e):this.trigger("drag")};var i=e.event,s=i.special,u=s.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(n){(n=e.extend({distance:u.distance,which:u.which,not:u.not},n||{})).distance=o(n.distance),i.add(this,"mousedown",t,n),this.attachEvent&&this.attachEvent("ondragstart",a)},teardown:function(){i.remove(this,"mousedown",t),this===u.dragging&&(u.dragging=u.proxy=!1),r(this,!0),this.detachEvent&&this.detachEvent("ondragstart",a)}};s.dragstart=s.dragend={setup:function(){},teardown:function(){}}}(jQuery),function(e){function t(t){var n=t||window.event,o=[].slice.call(arguments,1),a=0,r=0,i=0;return(t=e.event.fix(n)).type="mousewheel",n.wheelDelta&&(a=n.wheelDelta/120),n.detail&&(a=-n.detail/3),i=a,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(i=0,r=-1*a),void 0!==n.wheelDeltaY&&(i=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX/120),o.unshift(t,a,r,i),(e.event.dispatch||e.event.handle).apply(this,o)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var o=n.length;o;)e.event.fixHooks[n[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function($){$.plot.plugins.push({init:function(e){function t(t,n){var o=e.offset();o.left=t.pageX-o.left,o.top=t.pageY-o.top,n?e.zoomOut({center:o}):e.zoom({center:o})}function n(e,n){return e.preventDefault(),t(e,n<0),!1}var o="default",a=0,r=0,i=null;function s(t){if(1!=t.which)return!1;var n=e.getPlaceholder().css("cursor");n&&(o=n),e.getPlaceholder().css("cursor",e.getOptions().pan.cursor),a=t.pageX,r=t.pageY}function u(t){var n=e.getOptions().pan.frameRate;!i&&n&&(i=setTimeout(function(){e.pan({left:a-t.pageX,top:r-t.pageY}),a=t.pageX,r=t.pageY,i=null},1/n*1e3))}function g(t){i&&(clearTimeout(i),i=null),e.getPlaceholder().css("cursor",o),e.pan({left:a-t.pageX,top:r-t.pageY})}e.zoomOut=function(t){t||(t={}),t.amount||(t.amount=e.getOptions().zoom.amount),t.amount=1/t.amount,e.zoom(t)},e.zoom=function(t){t||(t={});var n=t.center,o=t.amount||e.getOptions().zoom.amount,a=e.width(),r=e.height();n||(n={left:a/2,top:r/2});var i=n.left/a,s=n.top/r,u={x:{min:n.left-i*a/o,max:n.left+(1-i)*a/o},y:{min:n.top-s*r/o,max:n.top+(1-s)*r/o}};$.each(e.getAxes(),function(e,t){var n=t.options,a=u[t.direction].min,r=u[t.direction].max,i=n.zoomRange,s=n.panRange;if(!1!==i){if((a=t.c2p(a))>(r=t.c2p(r))){var g=a;a=r,r=g}s&&(null!=s[0]&&a<s[0]&&(a=s[0]),null!=s[1]&&r>s[1]&&(r=s[1]));var d=r-a;i&&(null!=i[0]&&d<i[0]&&o>1||null!=i[1]&&d>i[1]&&o<1)||(n.min=a,n.max=r)}}),e.setupGrid(),e.draw(),t.preventEvent||e.getPlaceholder().trigger("plotzoom",[e,t])},e.pan=function(t){var n={x:+t.left,y:+t.top};isNaN(n.x)&&(n.x=0),isNaN(n.y)&&(n.y=0),$.each(e.getAxes(),function(e,t){var o,a,r=t.options,i=n[t.direction];o=t.c2p(t.p2c(t.min)+i),a=t.c2p(t.p2c(t.max)+i);var s=r.panRange;!1!==s&&(s&&(null!=s[0]&&s[0]>o&&(o+=i=s[0]-o,a+=i),null!=s[1]&&s[1]<a&&(o+=i=s[1]-a,a+=i)),r.min=o,r.max=a)}),e.setupGrid(),e.draw(),t.preventEvent||e.getPlaceholder().trigger("plotpan",[e,t])},e.hooks.bindEvents.push(function(e,o){var a=e.getOptions();a.zoom.interactive&&(o[a.zoom.trigger](t),o.mousewheel(n)),a.pan.interactive&&(o.bind("dragstart",{distance:10},s),o.bind("drag",u),o.bind("dragend",g))}),e.hooks.shutdown.push(function(e,o){o.unbind(e.getOptions().zoom.trigger,t),o.unbind("mousewheel",n),o.unbind("dragstart",s),o.unbind("drag",u),o.unbind("dragend",g),i&&clearTimeout(i)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})}(jQuery);